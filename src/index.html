<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="scss/style.css">
    <link rel="stylesheet" href="fonts/iconfont.css">
    <link rel="stylesheet" href="swiper/css/swiper.css">
    <title>Document</title>
</head>

<body>
    <div class="wrap">
        <header>
            <p>美团外卖</p>
            <p><i class="iconfont icon-share"></i></p>
        </header>
        <div class="content">
            <div class="input">
                <i class="iconfont icon-fangdajing"></i>米线
            </div>
        </div>

        <footer>
            <ul>
                <li class="active">
                    <p><i class="iconfont icon-shouye"></i></p>
                    <p>首页</p>
                </li>
                <li>
                    <p><i class="iconfont icon-shouye"></i></p>
                    <p>订单</p>
                </li>
                <li>
                    <p><i class="iconfont icon-shouye"></i></p>
                    <p>我的</p>
                </li>
            </ul>
        </footer>
    </div>
    <script src="js/rem.js"></script>
    <script src="swiper/js/swiper.js"></script>
    <script src="js/bscroll.js"></script>
    <script src="./js/jquery-3.3.1.js"></script>
    <script>
        var swiper = new Swiper('.swiper-container', {
            autoplay: true,
            direction: "horizontal",
            autoplay: {
                delay: 1000
            },
            loop: true,
            pagination: {
                el: "#pageTion",
                clickable: true
            }
        })

        var scroll = new BScroll('.flows', {
            probeType: 2,
            click: true
        })

        $.ajax({
            url: './mock/list.json',
            success: function(data) {
                render(data);
            }
        })

        $('footer ul li').on('click', function() {
            $(this).addClass('active').siblings().removeClass('active')
            var index = $(this).index();
            $('.main').eq(index).show().siblings().hide();
        })

        function render(data) {
            var str = '';
            $.each(data, function(i, val) {
                str += `<dl>
                            <dt><img src="./images/${val.url}" alt=""></dt>
                            <dd>${val.title}</dd>
                        </dl>`
            })

            $('.groups').append(str);
            scroll.refresh();
        }
    </script>
</body>

</html>